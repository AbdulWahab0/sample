<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/alchemyjs/0.4.2/alchemy.min.css" />
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alchemyjs/0.4.2/alchemy.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alchemyjs/0.4.2/scripts/vendor.js"></script>
    <div th:replace="template::stylesheet">
    </div>
</head>
<style>
    .alchemy text {
    font-weight: 200;
    font-size:15px;
    text-anchor: middle;
    font-family: serif;
    fill:red;
    }

    .alchemy line:hover {
    stroke: red;
    }
    .node.all text {

font-size: 20px;
fill: #2d2d31;
display: block;
text-anchor: end;
text-shadow:none;
}
 .node.all {

radius:10;
fill: red;
}

.edge.all text {

font-size: 20px;
text-shadow: none;
text-anchor: end;
fill: black;
}







    </style>
<script type="text/javascript">

            $(function () {
                $.ajax({
                    type: "GET",
                    contentType: "application/json",
                    url: "/edit-template-descriptor",
                    dataType: 'json',
                    cache: false,
                success: function (result) {
                    console.log(result);
                                var config = {
              dataSource: result,
              forceLocked: false,
              graphHeight: function(){ return 500; },
              graphWidth: function(){ return 500; },
              linkDistance: function(){ return 180; },
              nodeTypes: {"node_type":[ "Maintainer",
                                        "Contributor"]},
              nodeCaption: function(node){
              return node.name;
              }

                <!--return "Name: "+node.caption + " " + node.id+" "+node.catageory;}-->
                };

               alchemy = new Alchemy(config);
                $(".edge-line").css({ "stroke" : "#ccc","stroke-width": "4","fill":"none","opacity": "4.2"});
               <!--$("circle").css({ "fill" : "red"});-->
               $(".edge.active text").css({ "fill" : "blue","dsiplay":"none"});

              $("#alchemy").css({ "background-color" : "white", "width": "auto","height":"360px"});
                $("svg").css({ "background-color" : "white"});


                },
                error: function (e) {
                    console.log("ERROR : ", e);
                }

                });

            });


  </script>
<body class="skin-blue">
<div class="wrapper">
    <div th:replace="template::topmenu"></div>
    <div th:replace="template::main-sidebar"></div>
    <div class="content-wrapper">
        <section  style="margin-top: -15px; margin-left: 23px; margin-right: 11px;"id="main">
            <h5>
                / <a href="/application">application</a>
            </h5>
            <h3>Applications<br/>
                <small>Application template</small>
            </h3>
            <div style="background-color:white;" class="wrapper">
                <div class="cy" id="cyGRAPH">
                    <div class="alchemy" id="alchemy"></div>
                </div>
                <div class="metabox" style="margin-top: 12px;margin-right: 17px;">
                    <input id="txtarea" class="form-control" rows="7" cols="40" type="hidden"></input>
                    <div class="form-item" style="color:#eee">
                        <select   class="form-control" id="componentsList">
                            <option>-----</option>
                            <option>Ping Pong</option>
                            <option>New Ping Pong</option>
                        </select>
                        <br/>
                        <button type="button" class="btn btn-success btn-block" onclick="addNewComp();">Add Component</button>
                        <br/>
                        <input data-model="configure" data-name="sgid"  type="hidden" id="sgid"/>
                        <input type="hidden" class="form-control" name="nodeID" id="nodeID" placeholder="NID"  readonly="readonly"/>
                        <input type="hidden" class="form-control" name="nodeCNID" id="nodeCNID" placeholder="NCID"   readonly="readonly"/>
                        <label for="nodeName">Selected Component </label>
                        <input type="text" class="form-control" name="nodeName" id="nodeName" placeholder="splaceholder=e.g. sregw"   readonly="readonly"/>
                        <br/>
                        <div id="info" style="display: none;" class="panel"> </div>
                        <div id="request"></div>
                    </div>
                    <br/>
                    <div class="form-item">
                        <div class="action-area">
                            <label for="sgName">Template Name</label>
                            <input type="text" id="sgName" name="sgName"
                                   class="form-control" placeholder="e.g. Service Graph 1"
                                   autocomplete="off"/>
                            <br/>
                            <button id="save" type="button" class="btn btn-danger btn-block" onclick="saveJSON();">Save</button>
                            <button id="refresh" type="button" class="btn btn-default btn-block" onclick="refresh();">Reload</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <div th:replace="template::footer"></div>
</div>
<div th:replace="template::script"></div>
</body>
</html>
